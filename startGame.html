<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Football Game</title>
  </head>
  <body>
    <script>
      if (!window.localStorage.getItem("teams")) window.location.href = "/";
    </script>
    <div style="max-width: 800px; margin: auto;">
      <h1 style="text-align: center;">
        Football Game
        <button onClick="window.location.reload()">Restart Game</button>
        <button onclick="resetTeams()">Reset Teams</button>
      </h1>
      <div
        id="outcomeBlock"
        style="
          display: none;
          position: fixed;
          z-index: 2;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.5);
          text-align: center;
        "
      >
        <img id="outcomeImage" src="" style="width: 500px; margin: auto;" />
        <h2
          id="outcomeMessage"
          style="color: #e5e5e5; background: black; padding: 20px;"
        ></h2>
      </div>
      <div
        id="resultBlock"
        style="
          display: none;
          position: fixed;
          z-index: 2;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.5);
          text-align: center;
        "
      >
        <div
          style="
            max-width: 400px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: auto;
          "
        >
          <h1
            id="resultHeading"
            style="text-align: center; font-family: Helvetica; color: red;"
          ></h1>
          <h3 id="resultOutcome"></h3>
          <blockquote
            style="
              background: #f0f0f0;
              padding: 10px;
              display: block;
              font-style: italic;
              font-size: 20px;
            "
          >
            <b>Commentators Views:</b>
            <br /><br /><span id="resultCommentary"></span>
          </blockquote>
          <p>
            Later, commentator was found in garbage truck. We suspect,
            <span id="resultteam1name"></span> fans were behind it.
          </p>
          <div>
            <button onClick="window.location.reload()">Restart Game</button>
            <button onclick="resetTeams()">Reset Teams</button>
          </div>
          <h2 style="font-size: 30px;">Help by 1 Share Please !! <br />??</h2>
          <a
            href="http://twitter.com/share?text=Messi+Vs+Ronaldo+-+Football+game+in+javascript+and+localstorage+@ARMittal+@JavaScript+@reactjs+%23football+%23Messi+%23Ronaldo+%23100DaysOfCode+%23javascript+%23rea>
            target="_blank"
          >
            <img
              style="width: 100%;"
              src="https://findmymarathon.com/images/Twitter-Social-Share-Button.png"
            />
          </a>
        </div>
      </div>
      <div style="display: flex; margin-bottom: 90px;">
        <div style="background: darkred; flex-grow: 1; padding: 10px;">
          <h3 id="team1name" style="color: white;"></h3>
          <div style="background: black; margin-bottom: 20px;">
            <table style="width: 100%; color: white;">
              <thead>
              	<tr style="font-size: 24px; font-weight: bold;">
                  <th style="text-align: center;">SCORE</th>
                  <th id="team1score"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Total Goals</td>
                  <td id="team1goals"></td>
                </tr>
                <tr>
                  <td>Total Penalty</td>
                  <td id="team1penalty"></td>
                </tr>
                <tr>
                  <td>Yellow Cards</td>
                  <td id="team1yellow"></td>
                </tr>
                <tr>
                  <td>Red Cards</td>
                  <td id="team1red"></td>
                </tr>
              </tbody>
            </table>
          </div>
          <table style="background: white; width: 100%; margin-bottom: 10px;">
            <thead>
              <tr>
                <th>Goalkeeper</th>
                <th>Block</th>
                <th>Miss</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td id="team1player11name"></td>
                <td id="team1goalsblock"></td>
                <td id="team1goalsmiss"></td>
              </tr>
            </tbody>
          </table>
          <table style="background: white; width: 100%;">
            <thead>
              <tr>
                <th>Player</th>
                <th>Goal</th>
                <th>Penalty</th>
                <th>
                  <span
                    style="
                      height: 25px;
                      width: 15px;
                      background: yellow;
                      display: block;
                      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
                    "
                  ></span>
                </th>
                <th>
                  <span
                    style="
                      height: 25px;
                      width: 15px;
                      background: red;
                      display: block;
                      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
                    "
                  ></span>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td id="team1player1name"></td>
                <td id="team1player1goal"></td>
                <td id="team1player1penalty"></td>
                <td id="team1player1yellow"></td>
                <td id="team1player1red"></td>
              </tr>
              <tr>
                <td id="team1player2name"></td>
                <td id="team1player2goal"></td>
                <td id="team1player2penalty"></td>
                <td id="team1player2yellow"></td>
                <td id="team1player2red"></td>
              </tr>
              <tr>
                <td id="team1player3name"></td>
                <td id="team1player3goal"></td>
                <td id="team1player3penalty"></td>
                <td id="team1player3yellow"></td>
                <td id="team1player3red"></td>
              </tr>
              <tr>
                <td id="team1player4name"></td>
                <td id="team1player4goal"></td>
                <td id="team1player4penalty"></td>
                <td id="team1player4yellow"></td>
                <td id="team1player4red"></td>
              </tr>
              <tr>
                <td id="team1player5name"></td>
                <td id="team1player5goal"></td>
                <td id="team1player5penalty"></td>
                <td id="team1player5yellow"></td>
                <td id="team1player5red"></td>
              </tr>
              <tr>
                <td id="team1player6name"></td>
                <td id="team1player6goal"></td>
                <td id="team1player6penalty"></td>
                <td id="team1player6yellow"></td>
                <td id="team1player6red"></td>
              </tr>
              <tr>
                <td id="team1player7name"></td>
                <td id="team1player7goal"></td>
                <td id="team1player7penalty"></td>
                <td id="team1player7yellow"></td>
                <td id="team1player7red"></td>
              </tr>
              <tr>
                <td id="team1player8name"></td>
                <td id="team1player8goal"></td>
                <td id="team1player8penalty"></td>
                <td id="team1player8yellow"></td>
                <td id="team1player8red"></td>
              </tr>
              <tr>
                <td id="team1player9name"></td>
                <td id="team1player9goal"></td>
                <td id="team1player9penalty"></td>
                <td id="team1player9yellow"></td>
                <td id="team1player9red"></td>
              </tr>
              <tr>
                <td id="team1player10name"></td>
                <td id="team1player10goal"></td>
                <td id="team1player10penalty"></td>
                <td id="team1player10yellow"></td>
                <td id="team1player10red"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="background: blue; flex-grow: 1; padding: 10px;">
          <h3 id="team2name" style="color: white;"></h3>
          <div style="background: black; margin-bottom: 20px;">
            <table style="width: 100%; color: white;">
              <thead>
                <tr style="font-size: 24px; font-weight: bold;">
                  <th style="text-align: center;">SCORE</th>
                  <th id="team2score"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Total Goals</td>
                  <td id="team2goals"></td>
                </tr>
                <tr>
                  <td>Total Penalty</td>
                  <td id="team2penalty"></td>
                </tr>
                <tr>
                  <td>Yellow Cards</td>
                  <td id="team2yellow"></td>
                </tr>
                <tr>
                  <td>Red Cards</td>
                  <td id="team2red"></td>
                </tr>
              </tbody>
            </table>
          </div>
          <table style="background: white; width: 100%; margin-bottom: 10px;">
            <thead>
              <tr>
                <th>Goalkeeper</th>
                <th>Block</th>
                <th>Miss</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td id="team2player11name"></td>
                <td id="team2goalsblock"></td>
                <td id="team2goalsmiss"></td>
              </tr>
            </tbody>
          </table>
          <table style="background: white; width: 100%;">
            <thead>
              <tr>
                <th>Player</th>
                <th>Goal</th>
                <th>Penalty</th>
                <th>
                  <span
                    style="
                      height: 25px;
                      width: 15px;
                      background: yellow;
                      display: block;
                      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
                    "
                  ></span>
                </th>
                <th>
                  <span
                    style="
                      height: 25px;
                      width: 15px;
                      background: red;
                      display: block;
                      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
                    "
                  ></span>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td id="team2player1name"></td>
                <td id="team2player1goal"></td>
                <td id="team2player1penalty"></td>
                <td id="team2player1yellow"></td>
                <td id="team2player1red"></td>
              </tr>
              <tr>
                <td id="team2player2name"></td>
                <td id="team2player2goal"></td>
                <td id="team2player2penalty"></td>
                <td id="team2player2yellow"></td>
                <td id="team2player2red"></td>
              </tr>
              <tr>
                <td id="team2player3name"></td>
                <td id="team2player3goal"></td>
                <td id="team2player3penalty"></td>
                <td id="team2player3yellow"></td>
                <td id="team2player3red"></td>
              </tr>
              <tr>
                <td id="team2player4name"></td>
                <td id="team2player4goal"></td>
                <td id="team2player4penalty"></td>
                <td id="team2player4yellow"></td>
                <td id="team2player4red"></td>
              </tr>
              <tr>
                <td id="team2player5name"></td>
                <td id="team2player5goal"></td>
                <td id="team2player5penalty"></td>
                <td id="team2player5yellow"></td>
                <td id="team2player5red"></td>
              </tr>
              <tr>
                <td id="team2player6name"></td>
                <td id="team2player6goal"></td>
                <td id="team2player6penalty"></td>
                <td id="team2player6yellow"></td>
                <td id="team2player6red"></td>
              </tr>
              <tr>
                <td id="team2player7name"></td>
                <td id="team2player7goal"></td>
                <td id="team2player7penalty"></td>
                <td id="team2player7yellow"></td>
                <td id="team2player7red"></td>
              </tr>
              <tr>
                <td id="team2player8name"></td>
                <td id="team2player8goal"></td>
                <td id="team2player8penalty"></td>
                <td id="team2player8yellow"></td>
                <td id="team2player8red"></td>
              </tr>
              <tr>
                <td id="team2player9name"></td>
                <td id="team2player9goal"></td>
                <td id="team2player9penalty"></td>
                <td id="team2player9yellow"></td>
                <td id="team2player9red"></td>
              </tr>
              <tr>
                <td id="team2player10name"></td>
                <td id="team2player10goal"></td>
                <td id="team2player10penalty"></td>
                <td id="team2player10yellow"></td>
                <td id="team2player10red"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div
        id="commentaryBox"
        style="
          position: fixed;
          bottom: 0;
          height: 80px;
          background: #aaa;
          width: 100%;
          left: 0;
          display: flex;
          border-top: 1px solid #000;
          box-shadow: 0 0px 10px rgba(0, 0, 0, 0.3);
        "
      >
        <div style="width: 100px; background: cyan; flex-shrink: 0;">
        	<span style="text-align: center; display: block; font-weight: bold;"
            >Help Us! ?</span
          >
          <div>
            <a
              href="http://twitter.com/share?text=Messi+Vs+Ronaldo+-+Football+game+in+javascript+and+localstorage+@ARMittal+@JavaScript+@reactjs+%23football+%23Messi+%23Ronaldo+%23100DaysOfCode+%23javascript+%23r>
              target="_blank"
            >
              <img
                style="width: 100%; margin-top: 10px;"
                src="https://www.nextgenerationchiropractor.com/wp-content/uploads/2010/08/TweetButton-300x128.png"
              />
            </a>
          </div>
        </div>
        <div
          style="
            width: 200px;
            border-left: 1px solid #000;
            border-right: 1px solid #000;
            background: pink;
            flex-shrink: 0;
          "
        >
          <span
            id="turnString"
            style="
              text-align: center;
              font-size: 20px;
              display: block;
              font-family: Helvetica;
              font-weight: bold;
              color: yellow;
              text-shadow: 1px 1px 0px black, -1px 1px 0px black,
                1px -1px 0 black, -1px -1px 0px black;
            "
            >Your Turn</span
          >
          <div style="display: flex;">
            <div
              style="
                width: 50px;
                text-align: center;
                font-size: 24px;
                line-height: 15px;
                font-weight: bold;
              "
            >
              <span id="totalTurnCounter"></span><br />----<br />6
            </div>
            <div style="flex-grow: 1;">
              <span
                id="turnCounter"
                style="
                  font-size: 50px;
                  text-align: center;
                  font-family: Helvetica;
                  font-weight: bold;
                  color: #0d2534;
                  text-shadow: 0 0 3px white;
                  display: none;
                "
              ></span>
              <div id="playButton" style="text-align: center;">
                <button
                  style="
                    font-size: 30px;
                    font-family: Helvetica;
                    font-weight: bold;
                    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
                    background: green;
                    color: white;
                    cursor: pointer;
                    border-radius: 8px;
                  "
                  onClick="playTurn()"
                >
                  Press !!!
                </button>
              </div>
            </div>
          </div>
        </div>
        <div style="flex-grow: 1; background: gainsboro; padding: 0 10px;">
          <span style="font-weight: bold;">Commentator: </span>
          <span id="commentaryText"></span>
        </div>
      </div>
    </div>

    <script>
      function resetTeams() {
       window.location.href = "/";
      }
      var stats = {
   turn  : 1,
   team1 : {
              goalkeeper : {
                  block : 0,  // Count of goalkeeper blocks
                  miss  : 0,  // Count of goalkeeper miss
              },
              player1 : {
                  goal    : 0, // Total goals by player 1
                  penalty : 0, // Total penalty points
                  yellow  : 0, // Total yellow cards received by player1
                  red     : 0, // Total red cards received by player 1
              },
           },
   team2 : {
           },
};
     function fillStatTable() {
        ["team1", "team2"].forEach(function (team) {
          var totGoals = 0;
          var totPenalty = 0;
          var totYellow = 0;
          var totRed = 0;
          Object.keys(stats[`${team}`]).forEach(function (player) {
                if (player !== "goalkeeper") {
                  document.getElementById(`${team}${player}goal`).innerText =
                        stats[`${team}`][`${player}`].goal;
                  document.getElementById(`${team}${player}penalty`).innerText =
                        stats[`${team}`][`${player}`].penalty;
                  document.getElementById(`${team}${player}yellow`).innerText =
                        stats[`${team}`][`${player}`].yellow;
                  document.getElementById(`${team}${player}red`).innerText =
                        stats[`${team}`][`${player}`].red;

                  totGoals += stats[`${team}`][`${player}`].goal;
                  totPenalty += stats[`${team}`][`${player}`].penalty;
                  totYellow += stats[`${team}`][`${player}`].yellow;
                  totRed += stats[`${team}`][`${player}`].red;
                }
          });

          document.getElementById(`${team}goals`).innerText = totGoals;
          document.getElementById(`${team}penalty`).innerText = totPenalty;
          document.getElementById(`${team}yellow`).innerText = totYellow;
          document.getElementById(`${team}red`).innerText = totRed;

          document.getElementById(`${team}score`).innerText =
                totGoals * 3 - totPenalty;

          document.getElementById(`${team}goalsblock`).innerText =
                stats[`${team}`].goalkeeper.block;
          document.getElementById(`${team}goalsmiss`).innerText =
                stats[`${team}`].goalkeeper.miss;
        });
}
    function init() {

	// display team names

	// default stats object

	// display player names

	// display game start commentary

	// setting turn counter to 1

	fillStatTable();
}
var stats = { turn: 1 };
var teams = JSON.parse(window.localStorage.getItem("teams"));
var commentaries = {
        goal: {
          team1: [
                "Oh comeon {team2goalkeeper}, this should not be missed.",
                // other commentaries for goals of team 1
          ],
          team2: [
                "GOALLLLLL!!!!! More points for mighty {team2}",
               // other commentaries for goals of team 2
          ]
        },
        block: {
          team1: [
                "What a wonderful block. {team1} should learn from {team2}",
                // other commentaries for blocks of team 1
          ],
          team2: [
                "ohhh!! Just...",
                // other commentaries for blocks of team 2
          ]
        },
        yellow: {
          team1: [
                "I Love It.",
                // commentaries for team 1 player receiving yellow card
          ],
          team2: [
                "I am very angry with this behavior.",
                // commentaries for team 2 player receiving yellow card
          ]
        },
        red: {
          team1: [
                "Ha Ha Ha.. How'z that, {team1}?",
                // commentaries for team 1 player receiving red card
          ],
          team2: [
                "Hey! Hey! Hey! How is this a red card penalty?",
                // commentaries for team 2 player receiving red card
          ]
        },
        gamestart: [
          "Greetings!!! It's a sunny day. We are having a game between {team1} and {team2}. Hope better team ({team2}) win.",
           // commentaries for game start
        ],
        win: {
          team1: [
                "This whole game was biased. Actual winner is {team2}",
                // commentaries when team 1 wins
          ],
          team2: [
                "Yes! Yes! YESSSS! {team2} Won!!",
                // commentaries when team 2 wins
          ],
          tie: [
                "Let {team2} hit one more time and you will see who is the winner. This tie is BS."
          ]
        }
  };
  document.getElementById("team1name").innerText =
  teams.team1.name + " (Your Team)";
document.getElementById("team2name").innerText =
  teams.team2.name + " (Computer's Team)";
["team1", "team2"].forEach(function (team) {
  stats[`${team}`] = {};
  for (var i = 1; i <= 10; i++) {
        stats[`${team}`]["player" + i] = {
          goal: 0,
          penalty: 0,
          yellow: 0,
          red: 0
        };
  }
  stats[`${team}`]["goalkeeper"] = {
        block: 0,
        miss: 0
  };
});
    Object.keys(teams).forEach(function (team) {
  Object.keys(teams[team].players).forEach(function (player) {
        document.getElementById(`${team}${player}name`).innerText =
          teams[team].players[player];
  });
});
    document.getElementById("totalTurnCounter").innerHTML = stats.turn;
document.getElementById(
  "commentaryText"
).innerText = commentaries.gamestart[
  Math.floor(Math.random() * commentaries.gamestart.length)
]
  .replace(/{team1}/gi, teams.team1.name)
  .replace(/{team2}/gi, teams.team2.name);
    var stats = { turn: 1 };
var teams = JSON.parse(window.localStorage.getItem("teams"));
var commentaries = {
        goal: {
          team1: [
                "Oh comeon {team2goalkeeper}, this should not be missed.",
                "It was not a goal. This was a foul. Ref. pay attention.",
                "Damn it.",
                "Man! What's going on? {team2goalkeeper}... seriously?",
                "{team1} is on fire. But they will never win.",
                "Yeah Yeah.. Enjoy",
                "This was a perfect goal... for a kid.",
                "oops!! {team2goalkeeper} slipped. Ref should declare this goal invalid.",
                "I am not happy. This way {team2} could lose.",
                "Sometimes the wall like {team2goalkeeper} got penetrated too. But don't be too happy."
          ],
          team2: [
                "GOALLLLLL!!!!! More points for mighty {team2}",
                "Did you see anything more beautiful than this goal?",
                "{team2}, you deserve this goal.",
                "{team1}, only magic can save you from the wrath of {team2}",
                "{team1goalkeeper} can only block a goal of {team2player} in DREAMS..",
                "This goal increased my life by 5 years.",
                "When there is {team2} on grounds, you can expect goals all around.",
                "Ref.. please grant {team2player} 10 more points for such a wonderful goal.",
                "{team1}, you should be proud to lose with {team2}",
                "No one can stop the bullet. This goal was one of it."
          ]
        },
        block: {
          team1: [
                "What a wonderful block. {team1} should learn from {team2}",
                "Hey ref. look... {team2player} should be awarded 10 points for such fantastic block.",
                "Go go go {team2}. Don't let {team1} goal.",
                "You have to admit {team1}, you need a player like {team2player}",
                "Believe That!!!",
                "Beautiful block. Muahh {team2player}",
                "Oooh it was tough block. Only player like {team2player} could block it.",
                "Every team needs players like {team2player}",
                "{team1player}, its not easy to penetrate the wall of {team2player}",
                "Better luck next time, {team1player}"
          ],
          team2: [
                "ohhh!! Just...",
                "What are you doing, {team2player}? Don't let {team1player} block it.",
                "I have nothing to say.",
                "Comeon {team2player}!!!",
                "I should appreciate this block.",
                "It doesn't seems right. How can {team1player} block {team2player}?",
                "Get out of the way {team1player}.",
                "{team2player}, you need to make your way. It's easy. {team1} can't block you.",
                "Hey!! Make way {team1player}. Won't complaint if {team2player} hit you.",
                "Not a fine block but it worked."
          ]
        },
        yellow: {
          team1: [
                "I Love It.",
                "There is a saying, 'Yellow yellow dirty fellow'",
                "{team1player}, you should pay attention on your game and not hitting {team2player}",
                "Justice is served.",
                "Yeah {team1}, Yellow is your favorite color.",
                "Your deserve this, {team1player}.",
                "Don't worry {team1player}. I wish you all the best in next hit.",
                "Once more {team1player}. Once more please.",
                "Ref. you are awesome. Now you are doing the right thing.",
                "So sorry {team1player}, (for my happiness)"
          ],
          team2: [
                "I am very angry with this behavior.",
                "{team2player} did nothing wrong yet got the card.",
                "Card!!!! For what? Ref. you need to explain.",
                "I am definitely not liking it.",
                "Oh man! {team2player}, what have you done?",
                "No problem. Just a yellow card.",
                "This is the height. Ref should take a break from game. Never ending.",
                "Can you believe it? Can you? CAN YOUUU?",
                "{team2}, I know what's going on with you guys. But keep playing your best.",
                "Take care {team2}. Ref has decided to turn your win into loss by giving you these cards."
          ]
        },
        red: {
          team1: [
                "Ha Ha Ha.. How'z that, {team1}?",
                "Good job ref. Finally you did something right.",
                "I can not hold my laughter anymore. Heehaa.",
                "Hey!! stop injuring players of {team2}. Win with decency if you can.",
                "No no! not only red card. Throw {team1player} out of this game permanently.",
                "This is awesome.",
                "Good job {team1}. May you get all the red cards. He he.",
                "I am sad for you {team1}. *Giggle*",
                "Now you will understand the value of fair play.",
                "Ladies and Gentlemen, bottoms up."
          ],
          team2: [
                "Hey! Hey! Hey! How is this a red card penalty?",
                "OH MY GOD! Seriously! Red Card?",
                "Ref. you are disgusting.",
                "I can smell conspiracy. {team1}, you can not win by cheating.",
                "How much did you get in bribe, Ref.?",
                "Everybody knows, what is going on in here. Board does not want {team2} to win.",
                "Ref. use your eyes. {team1player} came in the path of {team2player} intentionally.",
                "Yeah why not! Give away all your red cards to {team2}. People will remember this corruption day.",
                "@#%$^# you ref. @&&#@ @^$&#^$",
                "I will resign if any more cheating happen with {team2}. I will protest. I will send ref to jail."
          ]
        },
        gamestart: [
          "Greetings!!! It's a sunny day. We are having a game between {team1} and {team2}. Hope better team ({team2}) win.",
          "Yuhuuu! Welcome all. Today we will witness the war between {team1} and {team2}. It's going to be bloody.",
          "Welcome! Quite a gathering. People are here to see {team2} and their victim {team1}."
        ],
        win: {
          team1: [
                "This whole game was biased. Actual winner is {team2}",
                "I am leaving commentary. My favorite team lost.",
                "Yeah! You won. Cheaters.",
                "This is unacceptable. UEFA should discard this result."
          ],
          team2: [
                "Yes! Yes! YESSSS! {team2} Won!!",
                "Drinks on me. It's a happy happy day.",
                "And that's how you win the game.",
                "Cry {team1} but actually you had no chance against {team2}."
          ],
          tie: [
                "Let {team2} hit one more time and you will see who is the winner. This tie is BS."
          ]
        }
};
    teams.team1.name + " (Your Team)";
        document.getElementById("team2name").innerText =
          teams.team2.name + " (Computer's Team)";

        ["team1", "team2"].forEach(function (team) {
          stats[`${team}`] = {};
          for (var i = 1; i <= 10; i++) {
                stats[`${team}`]["player" + i] = {
                  goal: 0,
                  penalty: 0,
                  yellow: 0,
                  red: 0
                };
          }
          stats[`${team}`]["goalkeeper"] = {
                block: 0,
                miss: 0
          };
        });

        Object.keys(teams).forEach(function (team) {
          Object.keys(teams[team].players).forEach(function (player) {
                document.getElementById(`${team}${player}name`).innerText =
                  teams[team].players[player];
          });
        });

        document.getElementById(
          "commentaryText"
        ).innerText = commentaries.gamestart[
          Math.floor(Math.random() * commentaries.gamestart.length)
        ]
          .replace(/{team1}/gi, teams.team1.name)
          .replace(/{team2}/gi, teams.team2.name);

        document.getElementById("totalTurnCounter").innerHTML = stats.turn;

        fillStatTable();
}
init();
    function playTurn(){
        // Hide play button
        // Create random variable to decide outcome
        // Select commentary based on outcome
        // Display turn outcome popup

        setTimeout(function () {

                // Close turn outcome popup
                // Add commentary to commentary box
                // Update stats object and call fillStatTable()
                // Toggle turn string


var turnCounterEle = document.getElementById("turnCounter");
                var cou = 3;  // counter variable to start from 3.
                function turnCounter() {
                        if(cou > 0){

                                // Run turn counter with delay of 1.2 seconds

                        } else {

                                // Hide turn counter
                                // Increase turn by 1 in stat object and display

                                if (stats.turn > 6) {   // check if current turn is more than maximum game turns.

                                        // Calculate scores for both teams and display final popup

                                } else {

                                        // if computer's turn then call playTurn()

                                        // else display play button

                                }


                        }

                }

        }, 5000); // Run function after 5 seconds
}
    document.getElementById("playButton").style.display = "none";
var randomVal = Math.random();
var outcome; // goal, block, yellow, red
if (randomVal < 0.05) {
  outcome = "red";
} else if (randomVal < 0.1) {
  outcome = "yellow";
} else if (randomVal < 0.45) {
  outcome = "goal";
} else {
  outcome = "block";
}
    commentaryArr =
  commentaries[`${outcome}`][stats.turn % 2 === 1 ? "team1" : "team2"];
var commentIndex = Math.floor(Math.random() * commentaryArr.length);
var comment = commentaryArr[commentIndex];
commentaryArr.splice(commentIndex, 1);

var team1playerIndex = Math.floor(Math.random() * 10) + 1;
var team2playerIndex = Math.floor(Math.random() * 10) + 1;

var team1playername = teams.team1.players["player" + team1playerIndex];
var team2playername = teams.team2.players["player" + team2playerIndex];
var team1goalkeeper = teams.team1.players["player11"];
var team2goalkeeper = teams.team2.players["player11"];

comment = comment
  .replace(/{team1player}/gi, team1playername)
  .replace(/{team2player}/gi, team2playername)
  .replace(/{team1goalkeeper}/gi, team1goalkeeper)
  .replace(/{team2goalkeeper}/gi, team2goalkeeper)
  .replace(/{team1}/gi, teams.team1.name)
  .replace(/{team2}/gi, teams.team2.name);
  
var imgurl = "";
var outcomeMessage = "";

if (outcome === "goal") {
  imgurl =
        "https://www.incimages.com/uploaded_files/image/1920x1080/goal-soccer_36915.jpg";
  outcomeMessage =
        '<span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team1playername : team2playername) +
        '</span> hit the ball and <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team2goalkeeper : team1goalkeeper) +
        '</span> could not block it. It\'s a GOAL. <br /><br />+3 points for <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
        "</span>.";
} else if (outcome === "block") {
  imgurl = "https://www.ussportscamps.com/media/images/goalie-save.jpg";
  outcomeMessage =
        '<span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team1playername : team2playername) +
        '</span> hit the ball but <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team2playername : team1playername) +
        '</span> blocked it. <br /><br />No points for <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
        "</span>.";
} else if (outcome === "red") {
  imgurl =
        "https://worldsoccertalk.com/wp-content/uploads/2017/10/343c701fce7775e37eb140ae9acac36ba78e07bd.jpg";
  outcomeMessage =
        '<span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team1playername : team2playername) +
        '</span> hit <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team2playername : team1playername) +
        '</span> badly. Red card. <br /><br />-2 points for <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
        "</span>.";
} else if (outcome === "yellow") {
  imgurl =
        "https://soccerlifestyle.com/wp-content/uploads/2019/05/What-Does-A-Yellow-Card-Mean-in-Soccer-soccerlifestyle.jpeg";
  outcomeMessage =
        '<span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team1playername : team2playername) +
        '</span> pushed <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? team2playername : team1playername) +
        '</span> while blocking. Yellow card. <br /><br />-1 points for <span style="font-size: 35px; color: white;">' +
        (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
        "</span>.";
}
document.getElementById("outcomeImage").src = imgurl;
document.getElementById("outcomeMessage").innerHTML = outcomeMessage;
document.getElementById("outcomeBlock").style.display = "block";
document.getElementById("outcomeBlock").style.display = "none";
var ct = 0;
var commentTextElement = document.getElementById("commentaryText");
commentTextElement.innerHTML = "";
function typeWriter() {
        if (ct < comment.length) {
          commentTextElement.innerHTML += comment.charAt(ct);
          ct++;
          setTimeout(typeWriter, 50);
        } else {
          turnCounterEle.style.display = "block";
          turnCounter();
        }
}
typeWriter();
Update stats object and call fillStatTable()
if (outcome === "goal") {
        stats[stats.turn % 2 === 1 ? "team1" : "team2"][
          "player" +
                (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
        ].goal += 1;
        stats[
          stats.turn % 2 === 1 ? "team2" : "team1"
        ].goalkeeper.miss += 1;
} else if (outcome === "block") {
        stats[
          stats.turn % 2 === 1 ? "team2" : "team1"
        ].goalkeeper.block += 1;
} else if (outcome === "yellow") {
        stats[stats.turn % 2 === 1 ? "team1" : "team2"][
          "player" +
                (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
        ].yellow += 1;
        stats[stats.turn % 2 === 1 ? "team1" : "team2"][
          "player" +
                (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
        ].penalty += 1;
} else if (outcome === "red") {
        stats[stats.turn % 2 === 1 ? "team1" : "team2"][
          "player" +
                (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
        ].red += 1;
        stats[stats.turn % 2 === 1 ? "team1" : "team2"][
          "player" +
                (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
        ].penalty += 2;
}

fillStatTable();
Toggle turn string
if (stats.turn % 2 === 1) {
        document.getElementById("turnString").innerText = "Computer's Turn";
} else {
        document.getElementById("turnString").innerText = "Your Turn";
}
Run turn counter with delay of 1.2 seconds
turnCounterEle.innerText = cou;
cou--;
setTimeout(turnCounter, 1200);
Hide turn counter
turnCounterEle.style.display = "none";
Increase turn by 1 in stat object and display
stats.turn += 1;
document.getElementById("totalTurnCounter").innerHTML =
        stats.turn;
Calculate scores for both teams and display final popup
var scoreTeam1 = 0;
var scoreTeam2 = 0;
["team1", "team2"].forEach(function (team) {
  var totGoals = 0;
  var totPenalty = 0;

  Object.keys(stats[`${team}`]).forEach(function (player) {
        if (player !== "goalkeeper") {
          totGoals += stats[`${team}`][`${player}`].goal;
          totPenalty += stats[`${team}`][`${player}`].penalty;
        }
  });

  if (team === "team1") scoreTeam1 = totGoals * 3 - totPenalty;
  else scoreTeam2 = totGoals * 3 - totPenalty;
});
document.getElementById("resultHeading").innerText =
  scoreTeam1 > scoreTeam2
        ? "You Won!!!"
        : scoreTeam1 < scoreTeam2
        ? "Computer Won!!!"
        : "It's A Tie!!!";
document.getElementById("resultOutcome").innerHTML =
  scoreTeam1 === scoreTeam2
        ? '<span style="color: darkred">' +
          teams.team1.name +
          '</span> Ties with <span style="color: blue">' +
          teams.team2.name +
          "</span>"
        : (scoreTeam1 > scoreTeam2
                ? '<span style="color: darkred">' +
                  teams.team1.name +
                  "</span>"
                : '<span style="color: blue">' +
                  teams.team2.name +
                  "</span>") +
          " beats " +
          (scoreTeam1 > scoreTeam2
                ? '<span style="color: blue">' +
                teams.team2.name +
                  "</span>"
                : '<span style="color: darkred">' +
                  teams.team1.name +
                  "</span>") +
          " by " +
          Math.abs(scoreTeam1 - scoreTeam2) +
          " Points.";
document.getElementById(
  "resultCommentary"
).innerText = commentaries.win[
  scoreTeam1 === scoreTeam2
        ? "tie"
        : scoreTeam1 > scoreTeam2
        ? "team1"
        : "team2"
][
  Math.floor(
        Math.random() *
          commentaries.win[
                scoreTeam1 === scoreTeam2
                  ? "tie"
                  : scoreTeam1 > scoreTeam2
                  ? "team1"
                  : "team2"
          ].length
  )
]
  .replace(/{team1}/gi, teams.team1.name)
  .replace(/{team2}/gi, teams.team2.name);
document.getElementById("resultteam1name").innerText =
  teams.team1.name;

document.getElementById("resultBlock").style.display = "block";
Now let’s combine all these code snippets and complete our playTurn() function.

function playTurn() {
        document.getElementById("playButton").style.display = "none";
        var randomVal = Math.random();
        var outcome; // goal, block, yellow, red
        if (randomVal < 0.05) {
          outcome = "red";
        } else if (randomVal < 0.1) {
          outcome = "yellow";
        } else if (randomVal < 0.45) {
          outcome = "goal";
        } else {
          outcome = "block";
        }

        var commentaryArr =
          commentaries[`${outcome}`][stats.turn % 2 === 1 ? "team1" : "team2"];
        var commentIndex = Math.floor(Math.random() * commentaryArr.length);
        var comment = commentaryArr[commentIndex];
        commentaryArr.splice(commentIndex, 1);

        var team1playerIndex = Math.floor(Math.random() * 10) + 1;
        var team2playerIndex = Math.floor(Math.random() * 10) + 1;

        var team1playername = teams.team1.players["player" + team1playerIndex];
        var team2playername = teams.team2.players["player" + team2playerIndex];
        var team1goalkeeper = teams.team1.players["player11"];
        var team2goalkeeper = teams.team2.players["player11"];

        comment = comment
          .replace(/{team1player}/gi, team1playername)
          .replace(/{team2player}/gi, team2playername)
          .replace(/{team1goalkeeper}/gi, team1goalkeeper)
          .replace(/{team2goalkeeper}/gi, team2goalkeeper)
          .replace(/{team1}/gi, teams.team1.name)
          .replace(/{team2}/gi, teams.team2.name);

        var imgurl = "";
        var outcomeMessage = "";

        if (outcome === "goal") {
          imgurl =
                "https://www.incimages.com/uploaded_files/image/1920x1080/goal-soccer_36915.jpg";
          outcomeMessage =
                '<span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team1playername : team2playername) +
                '</span> hit the ball and <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team2goalkeeper : team1goalkeeper) +
                '</span> could not block it. It\'s a GOAL. <br /><br />+3 points for <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
                "</span>.";
        } else if (outcome === "block") {
          imgurl = "https://www.ussportscamps.com/media/images/goalie-save.jpg";
          outcomeMessage =
                '<span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team1playername : team2playername) +
                '</span> hit the ball but <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team2playername : team1playername) +
                '</span> blocked it. <br /><br />No points for <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
                "</span>.";
        } else if (outcome === "red") {
          imgurl =
                "https://worldsoccertalk.com/wp-content/uploads/2017/10/343c701fce7775e37eb140ae9acac36ba78e07bd.jpg";
          outcomeMessage =
                '<span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team1playername : team2playername) +
                '</span> hit <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team2playername : team1playername) +
                '</span> badly. Red card. <br /><br />-2 points for <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
                "</span>.";
        } else if (outcome === "yellow") {
          imgurl =
                "https://soccerlifestyle.com/wp-content/uploads/2019/05/What-Does-A-Yellow-Card-Mean-in-Soccer-soccerlifestyle.jpeg";
          outcomeMessage =
                '<span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team1playername : team2playername) +
                '</span> pushed <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? team2playername : team1playername) +
                '</span> while blocking. Yellow card. <br /><br />-1 points for <span style="font-size: 35px; color: white;">' +
                (stats.turn % 2 === 1 ? teams.team1.name : teams.team2.name) +
                "</span>.";
        }
        document.getElementById("outcomeImage").src = imgurl;
        document.getElementById("outcomeMessage").innerHTML = outcomeMessage;
        document.getElementById("outcomeBlock").style.display = "block";

        setTimeout(function () {
          document.getElementById("outcomeBlock").style.display = "none";

          var ct = 0;
          var commentTextElement = document.getElementById("commentaryText");
          commentTextElement.innerHTML = "";
          function typeWriter() {
                if (ct < comment.length) {
                  commentTextElement.innerHTML += comment.charAt(ct);
                  ct++;
                  setTimeout(typeWriter, 50);
                } else {
                  turnCounterEle.style.display = "block";
                  turnCounter();
                }
          }
          typeWriter();

          if (outcome === "goal") {
                stats[stats.turn % 2 === 1 ? "team1" : "team2"][
                  "player" +
                        (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
                ].goal += 1;
                stats[
                  stats.turn % 2 === 1 ? "team2" : "team1"
                ].goalkeeper.miss += 1;
          } else if (outcome === "block") {
                stats[
                  stats.turn % 2 === 1 ? "team2" : "team1"
                ].goalkeeper.block += 1;
          } else if (outcome === "yellow") {
                stats[stats.turn % 2 === 1 ? "team1" : "team2"][
                  "player" +
                        (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
                ].yellow += 1;
                stats[stats.turn % 2 === 1 ? "team1" : "team2"][
                  "player" +
                        (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
                ].penalty += 1;
          } else if (outcome === "red") {
                stats[stats.turn % 2 === 1 ? "team1" : "team2"][
                  "player" +
                        (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
                ].red += 1;
                stats[stats.turn % 2 === 1 ? "team1" : "team2"][
                  "player" +
                        (stats.turn % 2 === 1 ? team1playerIndex : team2playerIndex)
                ].penalty += 2;
          }

          fillStatTable();

          if (stats.turn % 2 === 1) {
                document.getElementById("turnString").innerText = "Computer's Turn";
          } else {
                document.getElementById("turnString").innerText = "Your Turn";
          }

          var turnCounterEle = document.getElementById("turnCounter");

          var cou = 3;
          function turnCounter() {
                if (cou > 0) {
                  turnCounterEle.innerText = cou;
                  cou--;
                  setTimeout(turnCounter, 1200);
                } else {
                  turnCounterEle.style.display = "none";
                  stats.turn += 1;
                  document.getElementById("totalTurnCounter").innerHTML =
                        stats.turn;
                  if (stats.turn > 6) {
                        var scoreTeam1 = 0;
                        var scoreTeam2 = 0;
                        ["team1", "team2"].forEach(function (team) {
                          var totGoals = 0;
                          var totPenalty = 0;

                          Object.keys(stats[`${team}`]).forEach(function (player) {
                                if (player !== "goalkeeper") {
                                  totGoals += stats[`${team}`][`${player}`].goal;
                                  totPenalty += stats[`${team}`][`${player}`].penalty;
                                }
                          });
                          if (team === "team1") scoreTeam1 = totGoals * 3 - totPenalty;
                          else scoreTeam2 = totGoals * 3 - totPenalty;
                        });
                        document.getElementById("resultHeading").innerText =
                          scoreTeam1 > scoreTeam2
                                ? "You Won!!!"
                                : scoreTeam1 < scoreTeam2
                                ? "Computer Won!!!"
                                : "It's A Tie!!!";
                        document.getElementById("resultOutcome").innerHTML =
                          scoreTeam1 === scoreTeam2
                                ? '<span style="color: darkred">' +
                                  teams.team1.name +
                                  '</span> Ties with <span style="color: blue">' +
                                  teams.team2.name +
                                  "</span>"
                                : (scoreTeam1 > scoreTeam2
                                        ? '<span style="color: darkred">' +
                                          teams.team1.name +
                                          "</span>"
                                        : '<span style="color: blue">' +
                                          teams.team2.name +
                                          "</span>") +
                                  " beats " +
                                  (scoreTeam1 > scoreTeam2
                                        ? '<span style="color: blue">' +
                                          teams.team2.name +
                                          "</span>"
                                        : '<span style="color: darkred">' +
                                          teams.team1.name +
                                          "</span>") +
                                  " by " +
                                  Math.abs(scoreTeam1 - scoreTeam2) +
                                  " Points.";
                        document.getElementById(
                          "resultCommentary"
                        ).innerText = commentaries.win[
                          scoreTeam1 === scoreTeam2
                                ? "tie"
                                : scoreTeam1 > scoreTeam2
                                ? "team1"
                                : "team2"
                        ][
                          Math.floor(
                                Math.random() *
                                  commentaries.win[
                                        scoreTeam1 === scoreTeam2
                                          ? "tie"
                                          : scoreTeam1 > scoreTeam2
                                          ? "team1"
                                          : "team2"
                                  ].length
                          )
                        ]
                          .replace(/{team1}/gi, teams.team1.name)
                          .replace(/{team2}/gi, teams.team2.name);
                        document.getElementById("resultteam1name").innerText =
                          teams.team1.name;

                        document.getElementById("resultBlock").style.display = "block";
                  } else {
                        if (stats.turn % 2 === 0) {
                          playTurn();
                        } else {
                          document.getElementById("playButton").style.display = "block";
                        }
                  }
                }
          }
        }, 5000);
}
    </script>
  </body>
</html>
        	